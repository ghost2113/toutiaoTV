<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><title>投资信息</title><link rel="stylesheet" href="../css/reset.css"><link rel="stylesheet" href="./css/uploadPic.css"></head><body><section id="main" style="opacity:0"><form id="formData" action="https://zhishun520.com/zaotoutiao-api-home-1.0.0/investment/info/commit" method="post" enctype="multipart/form-data" target="rfFrame"><div class="inMon"><span class="itemName">手机号</span>：<input name="uploadTel" class="telephone" type="text" placeholder="请输入您的投资手机号"></div><div class="inMon"><span class="itemName">投资金额</span>：<input name="investment" class="investment" type="text" placeholder="请输入您的投资金额"></div><p class="tip">手机号请务必填写用于投资的手机号</p><input class="userId" name="userId" type="hidden"> <input class="id" name="id" type="hidden"><div class="submit"><input id="submit" type="submit" value="上传投资信息"></div></form><iframe id="rfFrame" name="rfFrame" src="about:blank" style="display:none"></iframe><div id="mask" style="display:none"><div class="maskwrap"><p class="msg">提交成功</p><button class="btn btn-info" id="close">确认</button></div></div></section></body><script src="../js/jquery-3.3.1.min.js"></script><script src="../js/jquery.form.js"></script><script src="../js/rem.js"></script><script src="../js/loading.js"></script><script src="../js/fastclick.js"></script><script src="https://unpkg.com/axios/dist/axios.min.js"></script><script>var userID=getUrlParams("userId"),id=getUrlParams("id");function showImg(e){var n=URL.createObjectURL(e.files[0]),t=e.getAttribute("class");console.log(t),$("#"+t).css({background:"white url("+n+") no-repeat center center","background-size":"100% 100%"})}function getUrlParams(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null}console.log({userID:userID,id:id}),$(".userId").val(userID),$(".id").val(id),$("#submit").click(function(){var e=$(".investment").val(),n=$(".telephone").val();new RegExp("^d+(.d+)$");console.log("正则",TJY.isNumber(e));if(console.log({telephone:n,investment:e}),!TJY.isPhone(n))return console.log("telephone"),TJY.msg("请输入正确格式的手机号码"),!1;if(!/^\d+(\.\d+)?$/.test(e))return console.log("investment"),TJY.msg("请输入正确的投资金额"),!1;var t={type:"post",datatype:"json",url:ajaxUrl+"/investment/info/commit",success:function(e){console.log(e),"true"==e.result.success?TJY.msg("提交成功"):TJY.msg("提交失败")},error:function(){setTimeout(function(){TJY.msg("提交失败")},1e3)}};return $("#formData").ajaxSubmit(t),!1}),$("#close").on("click",function(){$("#mask").hide()});var TJY=TJY||{};TJY.msg=function(e){$("#mask").show(),$(".msg").html(e)},TJY.isPhone=function(e){return new RegExp("^[1][0-9]{10}$").test(e)},TJY.isNumber=function(e){return new RegExp("^D$").test(e)}</script></html>